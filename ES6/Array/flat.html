<!-- Array.prototype.flat -->
<!-- 返回值：新数组，不影响原数组 -->
<!-- 功能：将嵌套的数组“拉平” -->

<!-- Array.prototype.flatMap -->
<!-- 返回值：新数组，不影响原数组 -->
<!-- 功能：对原数组的每个成员执行一个函数（相当于执行Array.prototype.map()），然后对返回值组成的数组执行flat()方法。该方法返回一个新数组，不改变原数组。 -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//常用实例
			[1, 2, [3, 4]].flat()
			// [1, 2, 3, 4]
			
			//默认拉平一层数组, flat()的参数为2，表示要“拉平”两层的嵌套数组。
			[1, 2, [3, [4, 5]]].flat()
			// [1, 2, 3, [4, 5]]
			
			[1, 2, [3, [4, 5]]].flat(2)
			// [1, 2, 3, 4, 5]
			
			//flat()的参数为Infinity，表示要都要转成一维数组.
			[1, [2, [3]]].flat(Infinity)
			// [1, 2, 3]
			
			//如果原数组有空位，flat()方法会跳过空位。
			[1, 2, , 4, 5].flat()
			// [1, 2, 4, 5]
			
			// 相当于 [[2, 4], [3, 6], [4, 8]].flat()
			[2, 3, 4].flatMap((x) => [x, x * 2])
			// [2, 4, 3, 6, 4, 8]
			
			//flatMap()只能展开一层数组。
			// 相当于 [[[2]], [[4]], [[6]], [[8]]].flat()
			[1, 2, 3, 4].flatMap(x => [[x * 2]])
			// [[2], [4], [6], [8]]
			//上面代码中，遍历函数返回的是一个双层的数组，但是默认只能展开一层，因此flatMap()返回的还是一个嵌套数组。
			
			
		</script>
	</body>
</html>
